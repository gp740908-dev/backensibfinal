(()=>{const i=self;i.addEventListener("push",function(n){var t,o;if(!i.Notification||"granted"!==i.Notification.permission)return;const e=null!==(t=null===(o=n.data)||void 0===o?void 0:o.json())&&void 0!==t?t:{},a=e.title||"Admin Notification",c={body:e.body||"New activity in dashboard",icon:"/android-chrome-192x192.png",badge:"/favicon-32x32.png",data:{url:e.url||"/dashboard"},vibrate:[100,50,100],actions:[{action:"open",title:"View"}]};n.waitUntil(i.registration.showNotification(a,c))}),i.addEventListener("notificationclick",function(n){n.notification.close();const t=n.notification.data.url;n.waitUntil(i.clients.matchAll({type:"window",includeUncontrolled:!0}).then(n=>{for(let i=0;i<n.length;i++){const o=n[i];if(o.url===t&&"focus"in o)return o.focus()}if(i.clients.openWindow)return i.clients.openWindow(t)}))})})();